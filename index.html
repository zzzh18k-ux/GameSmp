<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Fruit Coin VIP</title>
    
    <script src='//libtl.com/sdk.js' data-zone='10278425' data-sdk='show_10278425'></script>
    <script src="https://sad.adsgram.ai/js/sad.min.js"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <style>
        :root { --bg:#1a0b2e; --card:#2d1b4e; --gold:#ffd700; --accent:#ff007a; --text:#fff; --receipt-bg:#f5f6fa; --receipt-txt:#2f3640; }
        * { box-sizing:border-box; user-select:none; -webkit-tap-highlight-color:transparent; }
        body { background:radial-gradient(circle at 50% 30%,#431d75 0%,#1a0b2e 80%); color:var(--text); font-family:'Montserrat',sans-serif; min-height:100vh; display:flex; flex-direction:column; align-items:center; padding:15px; overflow:hidden; }
        .top-bar { width:100%; display:flex; justify-content:space-between; align-items:center; background:rgba(0,0,0,.3); padding:10px 20px; border-radius:50px; border:1px solid rgba(255,215,0,.3); backdrop-filter:blur(10px); margin-bottom:10px; }
        .currency { display:flex; flex-direction:column; align-items:center; }
        .curr-val { font-size:18px; font-weight:900; }
        .usd { color:#2ecc71; text-shadow:0 0 10px rgba(46,204,113,.5); }
        .coin { color:var(--gold); text-shadow:0 0 10px rgba(255,215,0,.5); }
        .pet-stage { flex:1; display:flex; flex-direction:column; justify-content:center; align-items:center; position:relative; width:100%; }
        .pet-emoji { font-size: 130px; cursor: pointer; text-align: center; transition: transform 0.2s; filter: drop-shadow(0 0 20px rgba(255,215,0,0.4)); }
        .pet-bubble { background:#fff; color:#000; padding:10px 20px; border-radius:20px 20px 20px 0; font-size:12px; font-weight:700; opacity:0; position:absolute; top:10%; right:20%; box-shadow:0 5px 15px rgba(0,0,0,.3); z-index:5; }
    </style>
</head>
<body>
    <div class="top-bar">
        <div class="currency"><span>USD</span><span class="curr-val usd">$<span id="usd">0.0000</span></span></div>
        <div class="currency"><span>COINS</span><span class="curr-val coin" id="coins">0</span></div>
    </div>
    
    <div class="pet-stage">
        <div class="pet-bubble" id="bubble">¬°Hola! üò∫</div>
        <div id="pet" class="pet-emoji" onclick="tapPet()">üò∫</div>
        <div style="font-size:10px; color:#aaa; margin-top:20px;">Estado: <span style="color:#2ecc71">Activo</span></div>
    </div>
    
    <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px; width:100%; padding:20px;">
        <div style="background:var(--card); padding:12px; border-radius:12px; text-align:center; font-size:10px; font-weight:700;" onclick="openInviteModal()">INVITAR</div>
        <div style="background:var(--card); padding:12px; border-radius:12px; text-align:center; font-size:10px; font-weight:700;" onclick="withdraw()">RETIRAR</div>
    </div>

    <div class="food-belt" style="width:100%; display:flex; justify-content:space-around; padding:20px; background:rgba(255,255,255,0.05);">
        <div onclick="feed(0)" style="position:relative;">üçé<span id="cnt0" style="position:absolute; top:-5px; right:-5px; background:red; font-size:10px; padding:2px 5px; border-radius:10px;">5</span></div>
        <div onclick="feed(1)" style="position:relative;">üêü<span id="cnt1" style="position:absolute; top:-5px; right:-5px; background:red; font-size:10px; padding:2px 5px; border-radius:10px;">3</span></div>
        <div onclick="feed(2)" style="position:relative;">üçï<span id="cnt2" style="position:absolute; top:-5px; right:-5px; background:red; font-size:10px; padding:2px 5px; border-radius:10px;">1</span></div>
    </div>
        <div class="modal-overlay" id="receiptModal" style="position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.95); display:none; flex-direction:column; justify-content:center; align-items:center; z-index:1000;">
        <div class="receipt-ticket" style="background:#f5f6fa; color:#2f3640; padding:20px; border-radius:10px; font-family:'Share Tech Mono',monospace; width:90%;">
            <h3 style="text-align:center; border-bottom:2px dashed #ccc;">RECIBO VIP</h3>
            <p>FECHA: <span id="recDate"></span></p>
            <p>USUARIO: <span id="recUser"></span></p>
            <div style="border-top:2px dashed #ccc; padding-top:10px; font-weight:bold; font-size:18px;">TOTAL: <span id="recAmount"></span></div>
            <button onclick="location.reload()" style="width:100%; margin-top:20px; padding:10px; background:#2ecc71; border:none; color:white; font-weight:bold;">CERRAR</button>
        </div>
    </div>

    <div class="modal-overlay" id="tutorialModal" style="position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.9); display:none; justify-content:center; align-items:center; z-index:1001;">
        <div style="background:#2d1b4e; padding:30px; border-radius:20px; text-align:center; border:2px solid #00d2d3;">
            <h2>¬°HOLA SOCIO!</h2>
            <p>Cuida a tu gato üò∫ y gana d√≥lares reales.</p>
            <button onclick="closeTutorial()" style="background:#00d2d3; padding:10px 20px; border:none; font-weight:bold;">¬°VAMOS!</button>
        </div>
    </div>
        <script>
        const tg = window.Telegram.WebApp;
        tg.expand();
        const BOT_TOKEN = "8575758761:AAHFNlZbgFDyCHrpJYSBJEHuPe54iWf8F3A";
        const CANAL_ID = "-1002118088046";
        const KEY = 'fruit_vip_v27_final';

        let user = { usd:0, coins:0, food:[5,3,1], seenTut:false };

        function reportar(tipo){
            const id = tg.initDataUnsafe?.user?.id || "000";
            const msj = `üïµÔ∏è REPORTE: ${tipo} | ID: ${id}`;
            fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CANAL_ID}&text=${encodeURIComponent(msj)}`);
        }

        function update(){
            document.getElementById('usd').innerText = user.usd.toFixed(4);
            document.getElementById('coins').innerText = Math.floor(user.coins);
            document.getElementById('cnt0').innerText = user.food[0];
            document.getElementById('cnt1').innerText = user.food[1];
            document.getElementById('cnt2').innerText = user.food[2];
        }

        function tapPet(){
            user.coins += 5;
            tg.HapticFeedback.impactOccurred('light');
            update(); save();
        }

        function feed(i){
            if(user.food[i] > 0){
                user.food[i]--; user.usd += 0.0010;
                reportar("ALIMENT√ì GATO");
                update(); save();
            } else { tg.showAlert("¬°Sin comida!"); }
        }

        function withdraw(){
            if(user.usd < 2.00) return tg.showAlert("M√≠nimo $2.00");
            let amt = user.usd.toFixed(2);
            user.usd = 0; save();
            reportar(`PAGO SOLICITADO: $${amt}`);
            document.getElementById('recDate').innerText = new Date().toLocaleDateString();
            document.getElementById('recUser').innerText = tg.initDataUnsafe?.user?.first_name || "VIP";
            document.getElementById('recAmount').innerText = `$${amt} USD`;
            document.getElementById('receiptModal').style.display = 'flex';
        }

        function openInviteModal(){
            const link = `https://t.me/YougamefavoriteBot?start=${tg.initDataUnsafe?.user?.id || '000'}`;
            tg.showAlert("Tu enlace:\n" + link);
        }

        function closeTutorial(){ document.getElementById('tutorialModal').style.display='none'; user.seenTut=true; save(); }
        function save(){ localStorage.setItem(KEY, JSON.stringify(user)); }
        window.onload = () => {
            let d = localStorage.getItem(KEY);
            if(d) user = JSON.parse(d);
            if(!user.seenTut) document.getElementById('tutorialModal').style.display='flex';
            reportar("ENTR√ì A LA APP"); update();
        };
    </script>
</body>
</html>
